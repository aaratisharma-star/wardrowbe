# ============================================================================
# Wardrobe Environment Configuration
# ============================================================================
# Copy this file to .env and update the values for your environment
# For production, generate secure secrets: openssl rand -hex 32
# ============================================================================

# Database Configuration
# ============================================================================
POSTGRES_USER=wardrobe
POSTGRES_PASSWORD=change-me-use-secure-password
POSTGRES_DB=wardrobe
POSTGRES_PORT=5432

# Redis Configuration
# ============================================================================
REDIS_PORT=6379

# Backend Configuration
# ============================================================================
BACKEND_PORT=8000
# IMPORTANT: Generate a secure secret for production
SECRET_KEY=change-me-in-production-use-openssl-rand-hex-32

# Frontend Configuration
# ============================================================================
FRONTEND_PORT=3000
NEXTAUTH_URL=http://localhost:3000
# IMPORTANT: Generate a secure secret for production
NEXTAUTH_SECRET=change-me-in-production-use-openssl-rand-hex-32

# Authentication (OIDC Provider)
# ============================================================================
# Leave all empty to use development credential-based login (default)
# Choose ONE of the following authentication methods:

# Option 1: OIDC
# OIDC_ISSUER_URL=https://auth.example.com
# OIDC_CLIENT_ID=wardrobe
# OIDC_CLIENT_SECRET=your-client-secret
# OIDC_END_SESSION_URL=https://auth.example.com/api/oidc/end-session
# Set to true if your OIDC provider uses a self-signed certificate:
# OIDC_SKIP_SSL_VERIFY=false

# Option 2: Forward Auth (TinyAuth, Authelia, etc.)
# AUTH_TRUST_PROXY=true

# DNS Configuration
# ============================================================================
# If your OIDC provider or other services use a local DNS hostname that
# Docker containers can't resolve, set this to your local DNS server IP:
# LOCAL_DNS=10.0.0.1

# AI Service Configuration
# ============================================================================
# REQUIRED: Choose ONE of the following AI providers
# The app needs a vision model (for analyzing clothing images) and a text model (for recommendations)
# ============================================================================

# Option 1: Ollama (Recommended - FREE, runs locally, no API key needed)
# ============================================================================
# 1. Install Ollama from https://ollama.ai
# 2. Pull required models:
#    ollama pull llava:7b      # Vision model for image analysis
#    ollama pull gemma3        # Text model for recommendations
#    (Alternative text models: llama3, qwen2.5, mistral)
# 3. Use this configuration:
AI_BASE_URL=http://host.docker.internal:11434/v1
AI_API_KEY=not-needed
AI_VISION_MODEL=llava:7b
AI_TEXT_MODEL=gemma3:latest

# Option 2: OpenAI (Paid API - requires API key)
# ============================================================================
# Uncomment these lines and comment out the Ollama config above:
# AI_BASE_URL=https://api.openai.com/v1
# AI_API_KEY=sk-your-api-key-here
# AI_VISION_MODEL=gpt-4o
# AI_TEXT_MODEL=gpt-4o

# Option 3: LocalAI (Self-hosted OpenAI alternative)
# ============================================================================
# AI_BASE_URL=http://localai:8080/v1
# AI_API_KEY=not-needed
# AI_VISION_MODEL=gpt-4-vision-preview
# AI_TEXT_MODEL=gpt-3.5-turbo

# Option 4: Azure OpenAI
# ============================================================================
# AI_BASE_URL=https://your-resource.openai.azure.com/openai/deployments/your-deployment/
# AI_API_KEY=your-azure-api-key
# AI_VISION_MODEL=gpt-4o
# AI_TEXT_MODEL=gpt-4o

# Notification Providers (all optional)
# ============================================================================
# ntfy.sh push notifications
NTFY_SERVER=https://ntfy.sh
NTFY_TOPIC=
NTFY_TOKEN=

# Mattermost webhook
MATTERMOST_WEBHOOK_URL=

# Email notifications
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
